<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuViMa Stealth æ¨¡å¼æ£€æµ‹</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #4CAF50;
            padding-bottom: 10px;
        }
        .test-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .pass {
            border-left: 5px solid #4CAF50;
        }
        .fail {
            border-left: 5px solid #f44336;
        }
        .warning {
            border-left: 5px solid #ff9800;
        }
        .label {
            font-weight: bold;
            margin-right: 10px;
        }
        .status {
            padding: 3px 10px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: bold;
        }
        .status.pass { background: #4CAF50; color: white; }
        .status.fail { background: #f44336; color: white; }
        .status.warning { background: #ff9800; color: white; }
        .summary {
            background: #2196F3;
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>ğŸ•µï¸ AuViMa Stealth æ¨¡å¼æ£€æµ‹</h1>

    <div class="summary">
        <h2>æ£€æµ‹æ‘˜è¦</h2>
        <p id="summary">æ­£åœ¨è¿è¡Œæ£€æµ‹...</p>
    </div>

    <div id="results"></div>

    <script>
        const results = [];

        function addTest(name, passed, value) {
            results.push({ name, passed, value });
            const div = document.createElement('div');
            div.className = `test-item ${passed ? 'pass' : 'fail'}`;
            div.innerHTML = `
                <span class="label">${name}:</span>
                <span class="status ${passed ? 'pass' : 'fail'}">${passed ? 'âœ“ PASS' : 'âœ— FAIL'}</span>
                <div style="margin-top: 5px; color: #666; font-size: 14px;">${value}</div>
            `;
            document.getElementById('results').appendChild(div);
        }

        // æµ‹è¯• 1: WebDriver æ£€æµ‹
        addTest(
            'navigator.webdriver',
            navigator.webdriver === false || navigator.webdriver === undefined,
            `å€¼: ${navigator.webdriver}`
        );

        // æµ‹è¯• 2: Plugins æ£€æµ‹
        addTest(
            'navigator.plugins',
            navigator.plugins.length > 0,
            `æ•°é‡: ${navigator.plugins.length}`
        );

        // æµ‹è¯• 3: Languages æ£€æµ‹
        addTest(
            'navigator.languages',
            navigator.languages && navigator.languages.length > 0,
            `å€¼: ${JSON.stringify(navigator.languages)}`
        );

        // æµ‹è¯• 4: Chrome runtime
        addTest(
            'window.chrome',
            window.chrome !== undefined,
            `å­˜åœ¨: ${window.chrome !== undefined}`
        );

        // æµ‹è¯• 5: Permissions
        addTest(
            'navigator.permissions',
            navigator.permissions !== undefined,
            `å­˜åœ¨: ${navigator.permissions !== undefined}`
        );

        // æµ‹è¯• 6: Hardware Concurrency
        addTest(
            'navigator.hardwareConcurrency',
            navigator.hardwareConcurrency > 0,
            `å€¼: ${navigator.hardwareConcurrency}`
        );

        // æµ‹è¯• 7: Device Memory
        addTest(
            'navigator.deviceMemory',
            navigator.deviceMemory !== undefined,
            `å€¼: ${navigator.deviceMemory} GB`
        );

        // æµ‹è¯• 8: User Agent
        addTest(
            'User-Agent',
            !navigator.userAgent.includes('Headless'),
            `${navigator.userAgent.substring(0, 80)}...`
        );

        // æµ‹è¯• 9: Platform
        addTest(
            'navigator.platform',
            navigator.platform !== '',
            `å€¼: ${navigator.platform}`
        );

        // æµ‹è¯• 10: Vendor
        addTest(
            'navigator.vendor',
            navigator.vendor !== '',
            `å€¼: ${navigator.vendor}`
        );

        // æµ‹è¯• 11: WebGL Renderer
        try {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
            addTest(
                'WebGL Renderer',
                !renderer.includes('SwiftShader') && !renderer.includes('llvmpipe'),
                `${renderer}`
            );
        } catch (e) {
            addTest('WebGL Renderer', false, `é”™è¯¯: ${e.message}`);
        }

        // æµ‹è¯• 12: Window size
        addTest(
            'Window Size',
            window.outerWidth > 0 && window.outerHeight > 0,
            `${window.outerWidth} x ${window.outerHeight}`
        );

        // ç”Ÿæˆæ‘˜è¦
        const passedCount = results.filter(r => r.passed).length;
        const totalCount = results.length;
        const passRate = ((passedCount / totalCount) * 100).toFixed(1);

        let summaryText = `é€šè¿‡: ${passedCount}/${totalCount} (${passRate}%)\n\n`;

        if (passRate >= 90) {
            summaryText += 'ğŸ‰ ä¼˜ç§€ï¼Stealth æ¨¡å¼å·¥ä½œè‰¯å¥½ï¼Œå¤§éƒ¨åˆ†ç½‘ç«™åº”è¯¥æ— æ³•æ£€æµ‹åˆ°è‡ªåŠ¨åŒ–ã€‚';
        } else if (passRate >= 70) {
            summaryText += 'âš ï¸ è‰¯å¥½ã€‚å¯ä»¥ç»•è¿‡åŸºç¡€æ£€æµ‹ï¼Œä½†å¯èƒ½è¢«é«˜çº§åçˆ¬è™«ç³»ç»Ÿè¯†åˆ«ã€‚';
        } else {
            summaryText += 'âŒ è¾ƒå·®ã€‚å®¹æ˜“è¢«è¯†åˆ«ä¸ºè‡ªåŠ¨åŒ–æµè§ˆå™¨ï¼Œå»ºè®®æ£€æŸ¥ stealth è„šæœ¬æ˜¯å¦æ­£ç¡®åŠ è½½ã€‚';
        }

        document.getElementById('summary').innerHTML = summaryText.replace(/\n/g, '<br>');

        console.log('æ£€æµ‹ç»“æœ:', results);
    </script>
</body>
</html>
